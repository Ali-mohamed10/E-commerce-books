import{r as l,j as d,R as xe}from"./index-B88h4pQU.js";import{c as re}from"./utils-CMQPBayb.js";import{r as be,i as Se,f as p,c as N,a as oe,b as ie,J as Ee,p as Ve,v as Re,d as Le,e as Me,g as Ce,n as ce,h as We,s as Oe,u as F,j as le,k as U,l as W,M as D,o as B,m as ze}from"./AnimationSection-P8thKqus.js";const A=new WeakMap;let T;const ae=(e,t,s)=>(n,r)=>r&&r[0]?r[0][e+"Size"]:Se(n)&&"getBBox"in n?n.getBBox()[t]:n[s],He=ae("inline","width","offsetWidth"),Ae=ae("block","height","offsetHeight");function Te({target:e,borderBoxSize:t}){A.get(e)?.forEach(s=>{s(e,{get width(){return He(e,t)},get height(){return Ae(e,t)}})})}function je(e){e.forEach(Te)}function Ne(){typeof ResizeObserver>"u"||(T=new ResizeObserver(je))}function ke(e,t){T||Ne();const s=be(e);return s.forEach(n=>{let r=A.get(n);r||(r=new Set,A.set(n,r)),r.add(t),T?.observe(n)}),()=>{s.forEach(n=>{const r=A.get(n);r?.delete(t),r?.size||T?.unobserve(n)})}}const j=new Set;let E;function Be(){E=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};j.forEach(t=>t(e))},window.addEventListener("resize",E)}function Ie(e){return j.add(e),E||Be(),()=>{j.delete(e),!j.size&&typeof E=="function"&&(window.removeEventListener("resize",E),E=void 0)}}function Pe(e,t){return typeof e=="function"?Ie(e):ke(e,t)}function ue(e,t){let s;const n=()=>{const{currentTime:r}=t,i=(r===null?0:r.value)/100;s!==i&&e(i),s=i};return p.preUpdate(n,!0),()=>N(n)}function Fe(...e){const t=!Array.isArray(e[0]),s=t?0:-1,n=e[0+s],r=e[1+s],o=e[2+s],i=e[3+s],c=oe(r,o,i);return t?c(n):c}function De(e,t,s){const n=e.get();let r=null,o=n,i;const c=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,a=()=>{r&&(r.stop(),r=null)},u=()=>{a(),r=new Ee({keyframes:[_(e.get()),_(o)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:i})};if(e.attach((f,h)=>(o=f,i=g=>h(G(g,c)),p.postRender(u),e.get()),a),ie(t)){const f=t.on("change",g=>e.set(G(g,c))),h=e.on("destroy",f);return()=>{f(),h()}}return a}function G(e,t){return t?e+t:e}function _(e){return typeof e=="number"?e:parseFloat(e)}function $e(e,t,s){l.useInsertionEffect(()=>e.on(t,s),[e,t,s])}const Ye=50,K=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Xe=()=>({time:0,x:K(),y:K()}),Je={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function q(e,t,s,n){const r=s[t],{length:o,position:i}=Je[t],c=r.current,a=s.time;r.current=e[`scroll${i}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Ve(0,r.scrollLength,r.current);const u=n-a;r.velocity=u>Ye?0:Re(r.current-c,u)}function Ue(e,t,s){q(e,"x",t,s),q(e,"y",t,s),t.time=s}function Ge(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(Le(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const o=n.getBoundingClientRect();s.x+=r.left-o.left,s.y+=r.top-o.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:o}=n.getBBox();s.x+=r,s.y+=o;let i=null,c=n.parentNode;for(;!i;)c.tagName==="svg"&&(i=c),c=n.parentNode;n=i}else break;return s}const P={start:0,center:.5,end:1};function Q(e,t,s=0){let n=0;if(e in P&&(e=P[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?n=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?n=r/100*document.documentElement.clientWidth:e.endsWith("vh")?n=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(n=t*e),s+n}const _e=[0,0];function Ke(e,t,s,n){let r=Array.isArray(e)?e:_e,o=0,i=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,P[e]?e:"0"]),o=Q(r[0],s,n),i=Q(r[1],t),o-i}const qe={All:[[0,0],[1,1]]},Qe={x:0,y:0};function Ze(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function et(e,t,s){const{offset:n=qe.All}=s,{target:r=e,axis:o="y"}=s,i=o==="y"?"height":"width",c=r!==e?Ge(r,e):Qe,a=r===e?{width:e.scrollWidth,height:e.scrollHeight}:Ze(r),u={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let f=!t[o].interpolate;const h=n.length;for(let g=0;g<h;g++){const w=Ke(n[g],u[i],a[i],c[o]);!f&&w!==t[o].interpolatorOffsets[g]&&(f=!0),t[o].offset[g]=w}f&&(t[o].interpolate=oe(t[o].offset,Me(n),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=Ce(0,1,t[o].interpolate(t[o].current))}function tt(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function nt(e,t,s,n={}){return{measure:r=>{tt(e,n.target,s),Ue(e,s,r),(n.offset||n.target)&&et(e,s,n)},notify:()=>t(s)}}const C=new WeakMap,Z=new WeakMap,I=new WeakMap,ee=e=>e===document.scrollingElement?window:e;function fe(e,{container:t=document.scrollingElement,...s}={}){if(!t)return ce;let n=I.get(t);n||(n=new Set,I.set(t,n));const r=Xe(),o=nt(t,e,r,s);if(n.add(o),!C.has(t)){const c=()=>{for(const h of n)h.measure(We.timestamp);p.preUpdate(a)},a=()=>{for(const h of n)h.notify()},u=()=>p.read(c);C.set(t,u);const f=ee(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Z.set(t,Pe(t,u)),f.addEventListener("scroll",u,{passive:!0}),u()}const i=C.get(t);return p.read(i,!1,!0),()=>{N(i);const c=I.get(t);if(!c||(c.delete(o),c.size))return;const a=C.get(t);C.delete(t),a&&(ee(t).removeEventListener("scroll",a),Z.get(t)?.(),window.removeEventListener("resize",a))}}const te=new Map;function st(e){const t={value:0},s=fe(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function de({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const r=te.get(t)??new Map;te.set(t,r);const o=s.target??"self",i=r.get(o)??{},c=n+(s.offset??[]).join(",");return i[c]||(i[c]=!s.target&&Oe()?new ScrollTimeline({source:t,axis:n}):st({container:t,...s})),i[c]}function rt(e,t){const s=de(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),ue(r=>{n.time=n.duration*r},s))})}function ot(e){return e.length===2}function it(e,t){return ot(e)?fe(s=>{e(s[t.axis].progress,s)},t):ue(e,de(t))}function ct(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return ce;const r={axis:t,container:s,...n};return typeof e=="function"?it(e,r):rt(e,r)}const lt=()=>({scrollX:W(0),scrollY:W(0),scrollXProgress:W(0),scrollYProgress:W(0)}),H=e=>e?!e.current:!1;function ge({container:e,target:t,...s}={}){const n=F(lt),r=l.useRef(null),o=l.useRef(!1),i=l.useCallback(()=>(r.current=ct((c,{x:a,y:u})=>{n.scrollX.set(a.current),n.scrollXProgress.set(a.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...s,container:e?.current||void 0,target:t?.current||void 0}),()=>{r.current?.()}),[e,t,JSON.stringify(s.offset)]);return le(()=>{if(o.current=!1,H(e)||H(t)){o.current=!0;return}else return i()},[i]),l.useEffect(()=>{if(o.current)return U(!H(e)),U(!H(t)),i()},[i]),n}function O(e){const t=F(()=>W(e)),{isStatic:s}=l.useContext(D);if(s){const[,n]=l.useState(e);l.useEffect(()=>t.on("change",n),[])}return t}function he(e,t){const s=O(t()),n=()=>s.set(t());return n(),le(()=>{const r=()=>p.preRender(n,!1,!0),o=e.map(i=>i.on("change",r));return()=>{o.forEach(i=>i()),N(n)}}),s}function at(e){B.current=[],e();const t=he(B.current,e);return B.current=void 0,t}function k(e,t,s,n){if(typeof e=="function")return at(e);const r=typeof t=="function"?t:Fe(t,s,n);return Array.isArray(e)?ne(e,r):ne([e],([o])=>r(o))}function ne(e,t){const s=F(()=>[]);return he(e,()=>{s.length=0;const n=e.length;for(let r=0;r<n;r++)s[r]=e[r].get();return t(s)})}function me(e,t={}){const{isStatic:s}=l.useContext(D),n=()=>ie(e)?e.get():e;if(s)return k(n);const r=O(n());return l.useInsertionEffect(()=>De(r,e,t),[r,JSON.stringify(t)]),r}function ut(e){const t=l.useRef(0),{isStatic:s}=l.useContext(D);l.useEffect(()=>{if(s)return;const n=({timestamp:r,delta:o})=>{t.current||(t.current=r),e(r-t.current,o)};return p.update(n,!0),()=>N(n)},[e])}function pe(e){const t=O(e.getVelocity()),s=()=>{const n=e.getVelocity();t.set(n),n&&p.update(s)};return $e(e,"change",()=>{p.update(s,!1,!0)}),t}const ft=(e,t,s)=>{const n=t-e;return((s-e)%n+n)%n+e},ye=xe.createContext(null);function dt({children:e,className:t,...s}){const{scrollY:n}=ge(),r=pe(n),o=me(r,{damping:50,stiffness:400}),i=k(o,c=>{const a=c<0?-1:1,u=Math.min(5,Math.abs(c)/1e3*5);return a*u});return d.jsx(ye.Provider,{value:i,children:d.jsx("div",{className:re("relative w-full",t),...s,children:e})})}function se(e){const t=l.useContext(ye);return t?d.jsx(ve,{...e,velocityFactor:t}):d.jsx(gt,{...e})}function ve({children:e,baseVelocity:t=5,direction:s=1,className:n,velocityFactor:r,...o}){const i=l.useRef(null),c=l.useRef(null),[a,u]=l.useState(1),f=O(0),h=l.useRef(s>=0?1:-1),g=l.useRef(s>=0?1:-1),w=O(0),$=l.useRef(!0),Y=l.useRef(!0),X=l.useRef(!1);l.useEffect(()=>{const y=i.current,m=c.current;if(!y||!m)return;const x=()=>{const M=y.offsetWidth||0,S=m.scrollWidth||0;w.set(S);const z=S>0?Math.max(2,Math.ceil(M/S)+1):1;u(J=>J===z?J:z)};x();const v=new ResizeObserver(x);v.observe(y),v.observe(m);const V=new IntersectionObserver(([M])=>{$.current=M.isIntersecting});V.observe(y);const R=()=>{Y.current=document.visibilityState==="visible"};document.addEventListener("visibilitychange",R,{passive:!0}),R();const b=window.matchMedia("(prefers-reduced-motion: reduce)"),L=()=>{X.current=b.matches};return b.addEventListener("change",L),L(),()=>{v.disconnect(),V.disconnect(),document.removeEventListener("visibilitychange",R),b.removeEventListener("change",L)}},[e,w]);const we=k([f,w],([y,m])=>{const x=Number(m)||1,v=Number(y)||0;return`${-ft(0,x,v)}px`});return ut((y,m)=>{if(!$.current||!Y.current||X.current)return;const x=m/1e3,v=r.get(),V=Math.min(3,Math.abs(v)),R=1+V;if(V>.25){const z=v>=0?1:-1;g.current=h.current*z}const b=w.get()||0;if(b<=0)return;const L=typeof navigator<"u"&&navigator.hardwareConcurrency&&navigator.hardwareConcurrency<=4?.7:1,M=b*t/150*L,S=g.current*M*R*x;Math.abs(S)<.05||f.set(f.get()+S)}),d.jsx("div",{ref:i,className:re("w-full overflow-hidden whitespace-nowrap",n),...o,children:d.jsx(ze.div,{className:"inline-flex items-center will-change-transform transform-gpu select-none",style:{x:we},children:Array.from({length:a}).map((y,m)=>d.jsx("div",{ref:m===0?c:null,"aria-hidden":m!==0,className:"inline-flex shrink-0 items-center",children:e},m))})})}function gt(e){const{scrollY:t}=ge(),s=pe(t),n=me(s,{damping:50,stiffness:400}),r=k(n,o=>{const i=o<0?-1:1,c=Math.min(5,Math.abs(o)/1e3*5);return i*c});return d.jsx(ve,{...e,velocityFactor:r})}function ht(){return d.jsxs("div",{className:"relative flex w-full flex-col items-center justify-center overflow-hidden py-8",children:[d.jsxs(dt,{className:"text-4xl md:text-7xl md:leading-[5rem] font-bold tracking-[-0.02em] text-black/20 dark:text-[#eee]/20",children:[d.jsxs(se,{baseVelocity:15,direction:1,children:["Best Sellers Collection"," # "]}),d.jsxs(se,{baseVelocity:15,direction:-1,children:["Special Offers Available"," $ "]})]}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-1/4 bg-gradient-to-r from-background"}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-1/4 bg-gradient-to-l from-background"})]})}const vt=l.memo(ht);export{vt as default};
